!function(){"use strict";const e={reference:"Welcome!",subtitle:"This is the Simple Psalter App.",pretext:"This app is meant for the prayerful who want to approach the Psalms.",text:'To get a random psalm, click on the "Get a psalm" button above.\n  To change translations, hover your cursor over the "Translation" button above\n  and select an available translation.'},t={reference:"About",subtitle:"The Simple Psalter App",pretext:"Purpose",text:"The purpose of the Simple Psalter App is twofold:\n  1) To commence my career as a full-stack developer outside of my schooling,\n  2) To offer a simple application for the good of others, that someone might\n  be inspired by a simple thing and even build off of this random psalm generator,\n  for the greater glory of God.\n  Whatever comes of it, may it be but a small benefit, and inevitably aid in\n  returning every user away from alluring screens towards the Creator of all things,\n  the most intelligent and imaginative, God.\n  God bless you."},r={reference:"Contact",subtitle:"Marc Pickelman, Full-Stack Developer",pretext:"Email: marcpc@att.net",text:"Phone: 906-322-8501"},n=document.querySelector(".header"),o=n.querySelector(".header__psalm-button"),a=n.querySelector(".header__content_psalm-trans"),l=a.querySelector(".header__text"),c=a.querySelector(".header__dropdown"),s=c.querySelector(".header__trans-text"),i=c.querySelector("#kjv"),d=c.querySelector("#dra"),u=c.querySelector("#darby"),h=c.querySelector("#asv"),p=document.querySelector("#card-template").content.querySelector(".card"),m=document.querySelector(".cards");let f=null;const y=document.querySelector(".footer"),b=y.querySelector(".nav__about-button"),_=y.querySelector(".nav__contact-button"),v=new class{constructor({baseUrl:e,headers:t,translation:r,reference:n}){this._baseUrl=e,this._headers=t,this._translation=r,this._number=n}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getRandomPsalm(){let e=Math.floor(150*Math.random())+1;return fetch(`${this._baseUrl}/psalm%20${e}?translation=kjv`).then(this._checkResponse)}changeTranslation({reference:e,translation:t}){const r=e.match(/\d+/)?.[0]||e;return fetch(`${this._baseUrl}/psalm%20${r}?translation=${t}`).then(this._checkResponse)}}({baseUrl:"https://bible-api.com",headers:{"Content-Type":"application/json"},translation:"",reference:""});function g(e,t){if(!f)return void console.warn("No psalm loaded. Please get a psalm first.");const r=f.reference;v.changeTranslation({reference:r,translation:e}).then(e=>{f=e;const r=S(e);m.replaceChildren(r),function(e){s.textContent=e}(t)}).catch(e=>{console.error("Error fetching translation:",e)})}function S(e){let t=p.cloneNode(!0),r=t.querySelector(".card__title"),n=t.querySelector(".card__subtitle"),o=t.querySelector(".card__pretext"),a=t.querySelector(".card__text");return r.textContent=e.reference,n.textContent=e.subtitle,o.textContent=e.pretext,a.textContent=e.text,function(e){l.textContent=e.reference}(e),t}document.addEventListener("DOMContentLoaded",()=>{!function(){f=null;const t=S(e);m.replaceChildren(t)}()}),o.addEventListener("click",()=>{v.getRandomPsalm().then(e=>{console.log("Success:",e),f=e;const t=S(e);m.replaceChildren(t)}).catch(e=>{console.error("Error fetching psalm:",e)})}),b.addEventListener("click",()=>{!function(){f=null;const e=S(t);m.replaceChildren(e)}()}),_.addEventListener("click",()=>{!function(){f=null;const e=S(r);m.replaceChildren(e)}()}),i.addEventListener("click",e=>{g("kjv",e.target.textContent)}),d.addEventListener("click",e=>{g("dra",e.target.textContent)}),u.addEventListener("click",e=>{g("darby",e.target.textContent)}),h.addEventListener("click",e=>{g("asv",e.target.textContent)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zaW1wbGVfcHNhbHRlcl9hcHAvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2ltcGxlX3BzYWx0ZXJfYXBwLy4vc3JjL3V0aWxzL2FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB3ZWxjb21lQ2FyZCA9IHtcbiAgcmVmZXJlbmNlOiBcIldlbGNvbWUhXCIsXG4gIHN1YnRpdGxlOiBcIlRoaXMgaXMgdGhlIFNpbXBsZSBQc2FsdGVyIEFwcC5cIixcbiAgcHJldGV4dDpcbiAgICBcIlRoaXMgYXBwIGlzIG1lYW50IGZvciB0aGUgcHJheWVyZnVsIHdobyB3YW50IHRvIGFwcHJvYWNoIHRoZSBQc2FsbXMuXCIsXG4gIHRleHQ6IGBUbyBnZXQgYSByYW5kb20gcHNhbG0sIGNsaWNrIG9uIHRoZSBcIkdldCBhIHBzYWxtXCIgYnV0dG9uIGFib3ZlLlxuICBUbyBjaGFuZ2UgdHJhbnNsYXRpb25zLCBob3ZlciB5b3VyIGN1cnNvciBvdmVyIHRoZSBcIlRyYW5zbGF0aW9uXCIgYnV0dG9uIGFib3ZlXG4gIGFuZCBzZWxlY3QgYW4gYXZhaWxhYmxlIHRyYW5zbGF0aW9uLmAsXG59O1xuXG5jb25zdCBhYm91dENhcmQgPSB7XG4gIHJlZmVyZW5jZTogXCJBYm91dFwiLFxuICBzdWJ0aXRsZTogXCJUaGUgU2ltcGxlIFBzYWx0ZXIgQXBwXCIsXG4gIHByZXRleHQ6IFwiUHVycG9zZVwiLFxuICB0ZXh0OiBgVGhlIHB1cnBvc2Ugb2YgdGhlIFNpbXBsZSBQc2FsdGVyIEFwcCBpcyB0d29mb2xkOlxuICAxKSBUbyBjb21tZW5jZSBteSBjYXJlZXIgYXMgYSBmdWxsLXN0YWNrIGRldmVsb3BlciBvdXRzaWRlIG9mIG15IHNjaG9vbGluZyxcbiAgMikgVG8gb2ZmZXIgYSBzaW1wbGUgYXBwbGljYXRpb24gZm9yIHRoZSBnb29kIG9mIG90aGVycywgdGhhdCBzb21lb25lIG1pZ2h0XG4gIGJlIGluc3BpcmVkIGJ5IGEgc2ltcGxlIHRoaW5nIGFuZCBldmVuIGJ1aWxkIG9mZiBvZiB0aGlzIHJhbmRvbSBwc2FsbSBnZW5lcmF0b3IsXG4gIGZvciB0aGUgZ3JlYXRlciBnbG9yeSBvZiBHb2QuXG4gIFdoYXRldmVyIGNvbWVzIG9mIGl0LCBtYXkgaXQgYmUgYnV0IGEgc21hbGwgYmVuZWZpdCwgYW5kIGluZXZpdGFibHkgYWlkIGluXG4gIHJldHVybmluZyBldmVyeSB1c2VyIGF3YXkgZnJvbSBhbGx1cmluZyBzY3JlZW5zIHRvd2FyZHMgdGhlIENyZWF0b3Igb2YgYWxsIHRoaW5ncyxcbiAgdGhlIG1vc3QgaW50ZWxsaWdlbnQgYW5kIGltYWdpbmF0aXZlLCBHb2QuXG4gIEdvZCBibGVzcyB5b3UuYCxcbn07XG5cbmNvbnN0IGNvbnRhY3RDYXJkID0ge1xuICByZWZlcmVuY2U6IFwiQ29udGFjdFwiLFxuICBzdWJ0aXRsZTogXCJNYXJjIFBpY2tlbG1hbiwgRnVsbC1TdGFjayBEZXZlbG9wZXJcIixcbiAgcHJldGV4dDogXCJFbWFpbDogbWFyY3BjQGF0dC5uZXRcIixcbiAgdGV4dDogXCJQaG9uZTogOTA2LTMyMi04NTAxXCIsXG59O1xuXG5leHBvcnQgeyB3ZWxjb21lQ2FyZCwgYWJvdXRDYXJkLCBjb250YWN0Q2FyZCB9O1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL2FwaVwiO1xuXG5pbXBvcnQgeyB3ZWxjb21lQ2FyZCwgYWJvdXRDYXJkLCBjb250YWN0Q2FyZCB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcblxuLy9IZWFkZXIgVmFyaWFibGVzXG5jb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcblxuY29uc3QgaGVhZGVyUHNhbG1CdXR0b25FbCA9IGhlYWRlci5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fcHNhbG0tYnV0dG9uXCIpO1xuXG5jb25zdCBoZWFkZXJDb250ZW50ID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19jb250ZW50X3BzYWxtLXRyYW5zXCIpO1xuY29uc3QgaGVhZGVyUHNhbG1OdW1iZXJFbCA9IGhlYWRlckNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3RleHRcIik7XG5cbmNvbnN0IHRyYW5zRHJvcGRvd25FbCA9IGhlYWRlckNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2Ryb3Bkb3duXCIpO1xuY29uc3QgdHJhbnNUZXh0RWwgPSB0cmFuc0Ryb3Bkb3duRWwucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3RyYW5zLXRleHRcIik7XG5jb25zdCBraW5nSmFtZXNUcmFuc0VsID0gdHJhbnNEcm9wZG93bkVsLnF1ZXJ5U2VsZWN0b3IoXCIja2p2XCIpO1xuY29uc3QgZG91YXlSaGVpbXNUcmFuc0VsID0gdHJhbnNEcm9wZG93bkVsLnF1ZXJ5U2VsZWN0b3IoXCIjZHJhXCIpO1xuY29uc3QgZGFyYnlUcmFuc0VsID0gdHJhbnNEcm9wZG93bkVsLnF1ZXJ5U2VsZWN0b3IoXCIjZGFyYnlcIik7XG5jb25zdCBhbWVyaWNhblRyYW5zRWwgPSB0cmFuc0Ryb3Bkb3duRWwucXVlcnlTZWxlY3RvcihcIiNhc3ZcIik7XG5cbi8vIE1haW4gVmFyaWFibGVzXG5cbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIilcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIik7XG5cbi8vIFRyYWNrIGN1cnJlbnQgcHNhbG0gZGF0YSBmb3IgdHJhbnNsYXRpb24gc3dpdGNoaW5nXG5sZXQgY3VycmVudFBzYWxtRGF0YSA9IG51bGw7XG5cbi8vIEZvb3RlciBWYXJpYWJsZXNcbmNvbnN0IGZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyXCIpO1xuY29uc3QgZm9vdGVyQWJvdXRCdXR0b24gPSBmb290ZXIucXVlcnlTZWxlY3RvcihcIi5uYXZfX2Fib3V0LWJ1dHRvblwiKTtcbmNvbnN0IGZvb3RlckNvbnRhY3RCdXR0b24gPSBmb290ZXIucXVlcnlTZWxlY3RvcihcIi5uYXZfX2NvbnRhY3QtYnV0dG9uXCIpO1xuXG4vLyBBUEkgSW5zdGFudGlhdGlvblxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2JpYmxlLWFwaS5jb21cIixcbiAgaGVhZGVyczoge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxuICB0cmFuc2xhdGlvbjogXCJcIixcbiAgcmVmZXJlbmNlOiBcIlwiLFxufSk7XG5cbi8vSGFuZGxlcnNcblxuZnVuY3Rpb24gaGFuZGxlTmV3Q2FyZCgpIHtcbiAgYXBpXG4gICAgLmdldFJhbmRvbVBzYWxtKClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzOlwiLCBkYXRhKTtcbiAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IHBzYWxtIGRhdGEgc28gd2UgY2FuIHN3aXRjaCB0cmFuc2xhdGlvbnMgbGF0ZXJcbiAgICAgIGN1cnJlbnRQc2FsbURhdGEgPSBkYXRhO1xuICAgICAgY29uc3QgY2FyZEVsID0gZ2V0Q2FyZEVsKGRhdGEpO1xuICAgICAgY2FyZENvbnRhaW5lci5yZXBsYWNlQ2hpbGRyZW4oY2FyZEVsKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwc2FsbTpcIiwgZXJyb3IpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVXZWxjb21lQ2FyZCgpIHtcbiAgLy8gQ2xlYXIgY3VycmVudCBwc2FsbSBkYXRhIHNpbmNlIHRoaXMgaXNuJ3QgYSBwc2FsbVxuICBjdXJyZW50UHNhbG1EYXRhID0gbnVsbDtcbiAgY29uc3QgY2FyZEVsID0gZ2V0Q2FyZEVsKHdlbGNvbWVDYXJkKTtcbiAgY2FyZENvbnRhaW5lci5yZXBsYWNlQ2hpbGRyZW4oY2FyZEVsKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWJvdXRDYXJkKCkge1xuICAvLyBDbGVhciBjdXJyZW50IHBzYWxtIGRhdGEgc2luY2UgdGhpcyBpc24ndCBhIHBzYWxtXG4gIGN1cnJlbnRQc2FsbURhdGEgPSBudWxsO1xuICBjb25zdCBjYXJkRWwgPSBnZXRDYXJkRWwoYWJvdXRDYXJkKTtcbiAgY2FyZENvbnRhaW5lci5yZXBsYWNlQ2hpbGRyZW4oY2FyZEVsKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ29udGFjdENhcmQoKSB7XG4gIC8vIENsZWFyIGN1cnJlbnQgcHNhbG0gZGF0YSBzaW5jZSB0aGlzIGlzbid0IGEgcHNhbG1cbiAgY3VycmVudFBzYWxtRGF0YSA9IG51bGw7XG4gIGNvbnN0IGNhcmRFbCA9IGdldENhcmRFbChjb250YWN0Q2FyZCk7XG4gIGNhcmRDb250YWluZXIucmVwbGFjZUNoaWxkcmVuKGNhcmRFbCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRleHRDaGFuZ2UoZGF0YSkge1xuICBoZWFkZXJQc2FsbU51bWJlckVsLnRleHRDb250ZW50ID0gZGF0YS5yZWZlcmVuY2U7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRleHRUcmFuc0NoYW5nZShidXR0b25UZXh0KSB7XG4gIHRyYW5zVGV4dEVsLnRleHRDb250ZW50ID0gYnV0dG9uVGV4dDtcbn1cblxuLy8gQ2hhbmdlIFRyYW5zbGF0aW9uIEZ1bmN0aW9uXG5mdW5jdGlvbiBoYW5kbGVUcmFuc0NoYW5nZSh0cmFuc2xhdGlvbklkLCBidXR0b25UZXh0KSB7XG4gIGlmICghY3VycmVudFBzYWxtRGF0YSkge1xuICAgIGNvbnNvbGUud2FybihcIk5vIHBzYWxtIGxvYWRlZC4gUGxlYXNlIGdldCBhIHBzYWxtIGZpcnN0LlwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByZWZlcmVuY2UgPSBjdXJyZW50UHNhbG1EYXRhLnJlZmVyZW5jZTtcblxuICBhcGlcbiAgICAuY2hhbmdlVHJhbnNsYXRpb24oeyByZWZlcmVuY2UsIHRyYW5zbGF0aW9uOiB0cmFuc2xhdGlvbklkIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGN1cnJlbnRQc2FsbURhdGEgPSBkYXRhO1xuICAgICAgY29uc3QgY2FyZEVsID0gZ2V0Q2FyZEVsKGRhdGEpO1xuICAgICAgY2FyZENvbnRhaW5lci5yZXBsYWNlQ2hpbGRyZW4oY2FyZEVsKTtcblxuICAgICAgaGFuZGxlVGV4dFRyYW5zQ2hhbmdlKGJ1dHRvblRleHQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHRyYW5zbGF0aW9uOlwiLCBlcnJvcik7XG4gICAgfSk7XG59XG5cbi8vIEdldCBDYXJkIEVsIEZ1bmN0aW9uXG5mdW5jdGlvbiBnZXRDYXJkRWwoZGF0YSkge1xuICBsZXQgY2FyZEVsID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgbGV0IGNhcmRUaXRsZUVsID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIGxldCBjYXJkU3VidGl0bGVFbCA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3N1YnRpdGxlXCIpO1xuICBsZXQgY2FyZFByZXRleHRFbCA9IGNhcmRFbC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3ByZXRleHRcIik7XG4gIGxldCBjYXJkVGV4dEVsID0gY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGV4dFwiKTtcblxuICBjYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IGRhdGEucmVmZXJlbmNlO1xuICBjYXJkU3VidGl0bGVFbC50ZXh0Q29udGVudCA9IGRhdGEuc3VidGl0bGU7XG4gIGNhcmRQcmV0ZXh0RWwudGV4dENvbnRlbnQgPSBkYXRhLnByZXRleHQ7XG4gIGNhcmRUZXh0RWwudGV4dENvbnRlbnQgPSBkYXRhLnRleHQ7XG5cbiAgaGFuZGxlVGV4dENoYW5nZShkYXRhKTtcblxuICByZXR1cm4gY2FyZEVsO1xufVxuXG4vLyBFdmVudCBMaXN0ZW5lcnNcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgaGFuZGxlV2VsY29tZUNhcmQoKTtcbn0pO1xuXG5oZWFkZXJQc2FsbUJ1dHRvbkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGhhbmRsZU5ld0NhcmQoKTtcbn0pO1xuXG5mb290ZXJBYm91dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBoYW5kbGVBYm91dENhcmQoKTtcbn0pO1xuXG5mb290ZXJDb250YWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGhhbmRsZUNvbnRhY3RDYXJkKCk7XG59KTtcblxua2luZ0phbWVzVHJhbnNFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICBoYW5kbGVUcmFuc0NoYW5nZShcImtqdlwiLCBldnQudGFyZ2V0LnRleHRDb250ZW50KTtcbn0pO1xuXG5kb3VheVJoZWltc1RyYW5zRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgaGFuZGxlVHJhbnNDaGFuZ2UoXCJkcmFcIiwgZXZ0LnRhcmdldC50ZXh0Q29udGVudCk7XG59KTtcblxuZGFyYnlUcmFuc0VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gIGhhbmRsZVRyYW5zQ2hhbmdlKFwiZGFyYnlcIiwgZXZ0LnRhcmdldC50ZXh0Q29udGVudCk7XG59KTtcblxuYW1lcmljYW5UcmFuc0VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gIGhhbmRsZVRyYW5zQ2hhbmdlKFwiYXN2XCIsIGV2dC50YXJnZXQudGV4dENvbnRlbnQpO1xufSk7XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMsIHRyYW5zbGF0aW9uLCByZWZlcmVuY2UgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICAgIHRoaXMuX3RyYW5zbGF0aW9uID0gdHJhbnNsYXRpb247XG4gICAgdGhpcy5fbnVtYmVyID0gcmVmZXJlbmNlO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gIH1cblxuICBnZXRSYW5kb21Qc2FsbSgpIHtcbiAgICBsZXQgcmFuZG9tUHNhbG1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNTApICsgMTtcbiAgICByZXR1cm4gZmV0Y2goXG4gICAgICBgJHt0aGlzLl9iYXNlVXJsfS9wc2FsbSUyMCR7cmFuZG9tUHNhbG1OdW1iZXJ9P3RyYW5zbGF0aW9uPWtqdmBcbiAgICApLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBjaGFuZ2VUcmFuc2xhdGlvbih7IHJlZmVyZW5jZSwgdHJhbnNsYXRpb24gfSkge1xuICAgIC8vIEV4dHJhY3QgcHNhbG0gbnVtYmVyIGZyb20gcmVmZXJlbmNlIChlLmcuLCBcIlBzYWxtIDIzXCIgLT4gXCIyM1wiKVxuICAgIGNvbnN0IHBzYWxtTnVtYmVyID0gcmVmZXJlbmNlLm1hdGNoKC9cXGQrLyk/LlswXSB8fCByZWZlcmVuY2U7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYCR7dGhpcy5fYmFzZVVybH0vcHNhbG0lMjAke3BzYWxtTnVtYmVyfT90cmFuc2xhdGlvbj0ke3RyYW5zbGF0aW9ufWBcbiAgICApLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIl0sIm5hbWVzIjpbIndlbGNvbWVDYXJkIiwicmVmZXJlbmNlIiwic3VidGl0bGUiLCJwcmV0ZXh0IiwidGV4dCIsImFib3V0Q2FyZCIsImNvbnRhY3RDYXJkIiwiaGVhZGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGVhZGVyUHNhbG1CdXR0b25FbCIsImhlYWRlckNvbnRlbnQiLCJoZWFkZXJQc2FsbU51bWJlckVsIiwidHJhbnNEcm9wZG93bkVsIiwidHJhbnNUZXh0RWwiLCJraW5nSmFtZXNUcmFuc0VsIiwiZG91YXlSaGVpbXNUcmFuc0VsIiwiZGFyYnlUcmFuc0VsIiwiYW1lcmljYW5UcmFuc0VsIiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImNhcmRDb250YWluZXIiLCJjdXJyZW50UHNhbG1EYXRhIiwiZm9vdGVyIiwiZm9vdGVyQWJvdXRCdXR0b24iLCJmb290ZXJDb250YWN0QnV0dG9uIiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRyYW5zbGF0aW9uIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfdHJhbnNsYXRpb24iLCJfbnVtYmVyIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0UmFuZG9tUHNhbG0iLCJyYW5kb21Qc2FsbU51bWJlciIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImZldGNoIiwidGhlbiIsImNoYW5nZVRyYW5zbGF0aW9uIiwicHNhbG1OdW1iZXIiLCJtYXRjaCIsImhhbmRsZVRyYW5zQ2hhbmdlIiwidHJhbnNsYXRpb25JZCIsImJ1dHRvblRleHQiLCJjb25zb2xlIiwid2FybiIsImRhdGEiLCJjYXJkRWwiLCJnZXRDYXJkRWwiLCJyZXBsYWNlQ2hpbGRyZW4iLCJ0ZXh0Q29udGVudCIsImhhbmRsZVRleHRUcmFuc0NoYW5nZSIsImNhdGNoIiwiZXJyb3IiLCJjbG9uZU5vZGUiLCJjYXJkVGl0bGVFbCIsImNhcmRTdWJ0aXRsZUVsIiwiY2FyZFByZXRleHRFbCIsImNhcmRUZXh0RWwiLCJoYW5kbGVUZXh0Q2hhbmdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVdlbGNvbWVDYXJkIiwibG9nIiwiaGFuZGxlQWJvdXRDYXJkIiwiaGFuZGxlQ29udGFjdENhcmQiLCJldnQiLCJ0YXJnZXQiXSwic291cmNlUm9vdCI6IiJ9